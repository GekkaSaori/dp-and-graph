# 图论算法
## 次短路
次短路的找法：枚举每一条边，而不能枚举每一个点。

## saberx
显然的结论，$总时间=路上赶路的时间+充油的时间+倒油的时间$

一种常数优化：明显地，有些边是无效的（例如到达u点油量上限为80，到达任意一个其他点需要120的油量）。

加油的时间可以忽略掉了，明显地在何处加油都不影响油量。

显然的，因为最后是要把油加满，假设油量可以看做负数，那么中途加油和最后加油是一样的。假设一个dist[u]表示开到u点剩下多少油，那么E[终点]-dist[终点]=加油的时间。

明显地，路上赶路时，消耗的时间等于油消耗的时间，那么路上消耗的油就等于赶路的时间，即X-dist[终点]。

H[终点]-dist[终点]=加油的时间

考虑如何如何处理倒油的问题。只需要将DP方程稍微修改一下，明显的倒油的时间可以在最后一起统计。

## 多源最短路
1. 直观的想法，大力跑n遍Dijkstra/spfa
2. Johnson重赋权算法（稀疏图）
3. Floyd（稠密图）

### POJ 1734
求图中长度最小的环

注意到Floyd算法递推时的特点，外层循环判断经过编号不超过k的点对(i,j)间最短路的长度，可以利用这个性质判环，然后找最小环即可。

### Johnson重赋权算法
一个比较直观的思路：

见PPT。orz

#CodeVS 2011 最小距离之和
可以发现这道题目是离线题。

把所有数据都读进来，然后把所有的边都删掉，倒着把所有询问做出来。
